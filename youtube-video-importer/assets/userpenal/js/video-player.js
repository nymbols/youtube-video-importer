(function(A){A.fn.YVII_VideoPlayer=function(G){if(0==this.length){return false}if(this.length>1){this.each(function(){A(this).YVII_VideoPlayer(G)});return}var S={controls:1,autohide:0,fs:1,theme:"dark",color:"red",iv_load_policy:1,modestbranding:1,rel:1,showinfo:0,autoplay:0,loop:0,disablekb:0};var L={video_id:null,source:"youtube",width:"100%",height:"100%",play:0,volume:30,elem_data:false,stateChange:function(){}};var N=this,G=A.extend({},L,G),Q=false,O=false,P=false,K=false,D=false;var C=function(){var V=E();if(G.elem_data){var U=J(A(N).html());G=A.extend({},L,U)}A(N).attr("id",V.cid).empty().append('<div id="'+V.pid+'"></div>');O=V.cid;Q=V.pid;T();F();A(window).resize(function(){F()});return N};var F=function(){var V=A("#"+O).width(),U;switch(G.aspect_ratio){case"16x9":default:U=(V*9)/16;break;case"4x3":U=(V*3)/4;break}A("#"+O).height(Math.floor(U))};var J=function(U){return A(N).data()};var I=function(){var U={};A.each(S,function(V,W){if(G[V]!=undefined){U[V]=G[V]}else{U[V]=W}});if(0==U.modestbranding){delete U.modestbranding}U.enablejsapi=1;U.playerapiid=Q;return U};var E=function(){var X="YVII_videoPlayerContainer_",V="YVIIVideoPlayer",W=Math.floor(Math.random()*1000),U={};U.cid=X+W;U.pid=V+W;return U};var B=function(){var U=I();return"https://www.youtube.com/v/"+G.video_id+"?version=3&rel="+U.rel};var T=function(){var V={allowfullscreen:"true",wmode:"transparent",allowScriptAccess:"always"};var U={id:Q,name:Q};swfobject.embedSWF(B(),Q,"100%","100%","8",false,I(),V,U,H)};var H=function(U){if(U.success){}else{if(!this.yt_api_loaded){A.getScript("https://www.youtube.com/player_api");this.yt_api_loaded=true}if(!YVII_YT_API_LOADED){N.interval=setInterval(function(){R()},1000);return}}};var R=function(){if(!YVII_YT_API_LOADED){return}clearInterval(N.interval);new YT.Player(Q,{height:"100%",width:"100%",videoId:G.video_id,playerVars:I(),events:{onReady:function(U){P=U.target;P.setVolume(G.volume);D=1;A("#"+O).data("player",P)},onStateChange:function(U){var V=U.data;switch(V){case 0:N.updateStatus(4);break;case 1:N.updateStatus(2);break;case 2:N.updateStatus(3);break}}}})};var M=function(Z,Y){if(!D){setTimeout(function(){M(Z)},100);return}var U={play:"playVideo",pause:"pauseVideo",stop:"stopVideo",volume:"setVolume",cueVideo:"cueVideoById",volumeDivider:1};D=1;if(!P){P=document.getElementById(Q);var X=U.volume,W=(G.volume==undefined?10:G.volume)/U.volumeDivider;P[X](W);A("#"+O).data("player",P)}if("load"==Z){return}var V=U[Z];if(typeof Y!="undefined"){P[V](Y)}else{P[V]()}switch(Z){case"play":D=2;break;case"pause":D=3;break;case"stop":D=4;break}G.stateChange.call(N,D)};this.play=function(){M("play")};this.pause=function(){M("pause")};this.stop=function(){M("stop")};this.load=function(U){M("cueVideo",U)};this.setVolume=function(U){M("volume",U)};this.getData=function(){return G};this.getStatus=function(){return D};this.updateStatus=function(U){if(U==1){M("volume")}D=U;G.stateChange.call(N,U)};A(this).data("ref",this);return C()}})(jQuery);var YVII_YT_PLAYERS={};function onYouTubePlayerReady(A){var D=A.replace("YVIIVideoPlayer","#CCB_videoPlayerContainer_");jQuery(D).data("ref").updateStatus(1);var B=document.getElementById(A),E=jQuery(A.replace("YVIIVideoPlayer","#YVII_videoPlayerContainer_"));var C="yt"+Math.floor(Math.random()*100000);YVII_YT_PLAYERS[C]={idPlayer:A,onStateChanged:function(F){switch(F){case 0:E.data("ref").updateStatus(4);break;case 1:E.data("ref").updateStatus(2);break;case 2:E.data("ref").updateStatus(3);break}}};B.addEventListener("onStateChange","YVII_YT_PLAYERS."+C+".onStateChanged")}var YVII_YT_API_LOADED=false;(function(A){A(document).ready(function(){window.onYouTubePlayerAPIReady=function(){YVII_YT_API_LOADED=true};A("div.yvii_single_video_player").YVII_VideoPlayer({elem_data:true})})})(jQuery);